schema: '2.0'
stages:
  baumgartner_etl:
    cmd: python multitask/etl_baumgartner_suzuki.py data/baumgartner_suzuki/c8re00032h2.xlsx
      data/baumgartner_suzuki/ord
    deps:
    - path: data/baumgartner_suzuki/c8re00032h2.xlsx
      md5: 5dd468b3686c8495fd37c6aa6f2e114f
      size: 58908
    - path: multitask/etl_baumgartner_suzuki.py
      md5: 612e9b359d8549e681890dbd80fd6409
      size: 17487
    outs:
    - path: data/baumgartner_suzuki/ord/
      md5: 9b7be11c7274b72993e037a257a3fe94.dir
      size: 463832
      nfiles: 2
  baumgartner_suzuki_benchmark_training:
    cmd: python multitask/suzuki_benchmark_training.py data/baumgartner_suzuki/ord/baumgartner_suzuki.pb
      data/baumgartner_suzuki/emulator figures/ --no-split-catalyst --max-epochs 1000
      --cv-folds 5 --verbose 0 --no-include-reactant-concentrations --no-print-warnings
    deps:
    - path: data/baumgartner_suzuki/ord/
      md5: 9b7be11c7274b72993e037a257a3fe94.dir
      size: 463832
      nfiles: 2
    - path: multitask/suzuki_benchmark_training.py
      md5: f7319945981e34ec7a76e001ef322de7
      size: 5240
    - path: multitask/suzuki_data_utils.py
      md5: db7e263e854fa3d5c83349bb21fbe374
      size: 6666
    - path: multitask/suzuki_emulator.py
      md5: 7e823e1e9e8e7ddd620c2abc6a4296fc
      size: 2245
    outs:
    - path: data/baumgartner_suzuki/emulator/
      md5: c14efa5d7ec999c5b65fad4b18a23df6.dir
      size: 144742
      nfiles: 6
    - path: figures/baumgartner_suzuki_parity_plot.png
      md5: 97f044bc3bf255eae258e250b0eeede0
      size: 234329
  reizman_etl:
    cmd: python multitask/etl_reizman_suzuki.py data/reizman_suzuki/ data/reizman_suzuki/ord/
    deps:
    - path: data/reizman_suzuki/reizman_suzuki_case_1.csv
      md5: 752e9df6597ce23f37d2e1549a3aa05e
      size: 3239
    - path: data/reizman_suzuki/reizman_suzuki_case_2.csv
      md5: cb4d270e465e1b79995abe1526f1776d
      size: 3180
    - path: data/reizman_suzuki/reizman_suzuki_case_3.csv
      md5: d11e3036924270f2f01027e962c32aff
      size: 3273
    - path: data/reizman_suzuki/reizman_suzuki_case_4.csv
      md5: ebff787dfbcc0ac852994133f43182b1
      size: 3410
    - path: multitask/etl_reizman_suzuki.py
      md5: 6ba6c9626c15e1b76122a5adfaf573aa
      size: 15539
    outs:
    - path: data/reizman_suzuki/ord/
      md5: d3d2378ea5316dce29641578ed76e01d.dir
      size: 628301
      nfiles: 8
  reizman_suzuki_benchmark_training@1:
    cmd: python multitask/suzuki_benchmark_training.py data/reizman_suzuki/ord/reizman_suzuki_case_1.pb
      data/reizman_suzuki/emulator_case_1/ figures/ --no-split-catalyst --max-epochs
      1000 --cv-folds 5 --verbose 0 --no-print-warnings
    deps:
    - path: data/reizman_suzuki/ord
      md5: d3d2378ea5316dce29641578ed76e01d.dir
      size: 628301
      nfiles: 8
    - path: multitask/suzuki_benchmark_training.py
      md5: f7319945981e34ec7a76e001ef322de7
      size: 5240
    - path: multitask/suzuki_data_utils.py
      md5: db7e263e854fa3d5c83349bb21fbe374
      size: 6666
    - path: multitask/suzuki_emulator.py
      md5: 7e823e1e9e8e7ddd620c2abc6a4296fc
      size: 2245
    outs:
    - path: data/reizman_suzuki/emulator_case_1/
      md5: 82eabed4f653e74b068f10051732b8c3.dir
      size: 144729
      nfiles: 6
    - path: figures/reizman_suzuki_case_1_parity_plot.png
      md5: d5709887afc954a9608e64b91b98a3b0
      size: 196168
  suzuki_mtbo_one_cotraining@reizman_suzuki_case_1_cotrain_reizman_suzuki_case_2:
    cmd: python multitask/suzuki_optimization.py mtbo reizman_suzuki_case_1 data/reizman_suzuki/emulator_case_1
      data/reizman_suzuki/ord/reizman_suzuki_case_2.pb data/multitask_results/results_reizman_suzuki_case_1_cotrain_reizman_suzuki_case_2
      --max-experiments 20 --batch-size 1 --repeats 20 --no-print-warnings --acquisition-function
      "qNEI"
    deps:
    - path: data/reizman_suzuki/emulator_case_1
      md5: 82eabed4f653e74b068f10051732b8c3.dir
      size: 144729
      nfiles: 6
    - path: data/reizman_suzuki/ord/reizman_suzuki_case_2.pb
      md5: 20a75cff91b1a81fd1e6226ed3b75b2b
      size: 144332
    - path: multitask/suzuki_data_utils.py
      md5: db7e263e854fa3d5c83349bb21fbe374
      size: 6666
    - path: multitask/suzuki_emulator.py
      md5: 7e823e1e9e8e7ddd620c2abc6a4296fc
      size: 2245
    - path: multitask/suzuki_optimization.py
      md5: ba6bb07df92cc741aecfc70bb390e4fd
      size: 7565
    outs:
    - path: data/multitask_results/results_reizman_suzuki_case_1_cotrain_reizman_suzuki_case_2
      md5: 9407b7d7775b6ca50e50efa1bf1cd6ff.dir
      size: 483265
      nfiles: 40
